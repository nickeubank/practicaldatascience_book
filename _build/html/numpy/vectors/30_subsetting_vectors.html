
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Subsetting Vectors &#8212; Practical Data Science</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Modifying Subsets of Vectors" href="35_modifying_subsets_of_vectors.html" />
    <link rel="prev" title="Vector Recap" href="24_vector_recap.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Practical Data Science</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Welcome to Practical Data Science (in Python)
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Numpy
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="10_why_numpy.html">
   Vectors
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="20_intro_to_vectors.html">
     Working with Vectors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="21_math_with_vectors.html">
     Doing Math With Vectors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="23_type_promotion_in_vectors.html">
     Type Promotion in numpy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="24_vector_recap.html">
     Vector Recap
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="current reference internal" href="#">
   Subsetting Vectors
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="35_modifying_subsets_of_vectors.html">
     Modifying Subsets of Vectors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="37_vector_subsets_recap.html">
     Recap
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="40_views_and_copies.html">
   Views and Copies
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="45_when_do_I_get_a_view.html">
     When Do I Get a View and When Do I Get a Copy?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="47_objects_and_variables.html">
     Variables are pointers to objects
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="50_views_and_copies_recap.html">
     Review of Views and Copies
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../matrices/00_welcome_to_week_3.html">
   Matrices
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../matrices/20_matrices.html">
     Intro to Matrices
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../matrices/22_reshaping_matrices.html">
     Folding and Reshaping Matrices
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../matrices/25_images_as_matrices.html">
     Matrices as Images
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../matrices/30_subsetting_matrices.html">
     Subsetting Matrices
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../matrices/32_modifying_subsets.html">
     Editing Subsets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../matrices/33_matrix_recaps.html">
     Review of Matrices
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../matrices/40_nd_arrays.html">
   Arrays
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../matrices/41_broadcasting.html">
     Broadcasting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../matrices/42_nd_array_review.html">
     Review of ND-Arrays
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Pandas
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../pandas/00_intro_to_pandas.html">
   Intro to Pandas
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../pandas/10_pandas_series.html">
     Pandas Series
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../pandas/15_manipulating_series.html">
     Subsetting and indexing Series
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../pandas/16_indexing_with_brackets.html">
     (OPTIONAL) Subsetting and Indexing with Single Square Brackets (
     <code class="docutils literal notranslate">
      <span class="pre">
       []
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../pandas/30_pandas_dataframes.html">
     Working with tabular data through Dataframes
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../pandas/35_pandas_dataframe_gotchas.html">
     Subsetting DataFrame Tricks and Gotchas
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/nickeubank/practicaldatascience_book/main?urlpath=tree/docs/numpy/vectors/30_subsetting_vectors.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/nickeubank/practicaldatascience_book/"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/nickeubank/practicaldatascience_book//issues/new?title=Issue%20on%20page%20%2Fnumpy/vectors/30_subsetting_vectors.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/numpy/vectors/30_subsetting_vectors.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-is-subsetting">
   What is Subsetting?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#subsetting-by-index">
   Subsetting By Index
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#simple-indexing">
     Simple Indexing
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fancy-indexing">
     Fancy Indexing
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#subsetting-with-booleans">
   Subsetting with Booleans
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#subsetting-with-logical-operations">
   Subsetting With Logical Operations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercises">
   Exercises
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Subsetting Vectors</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-is-subsetting">
   What is Subsetting?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#subsetting-by-index">
   Subsetting By Index
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#simple-indexing">
     Simple Indexing
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fancy-indexing">
     Fancy Indexing
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#subsetting-with-booleans">
   Subsetting with Booleans
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#subsetting-with-logical-operations">
   Subsetting With Logical Operations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercises">
   Exercises
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="subsetting-vectors">
<h1>Subsetting Vectors<a class="headerlink" href="#subsetting-vectors" title="Permalink to this headline">#</a></h1>
<p>In our last reading, we learned what vectors are, and how to do operations on entire vectors. But often times we want to work with <em>subsets</em> of a vector. Indeed, extracting a subset of elements from a vector is an extremely important task, not least because it generalizes nicely to datasets (which are at the heart of data science). This process ‚Äî whether applied to a vector or a dataset ‚Äî is often referred to as ‚Äútaking a subset‚Äù, ‚Äúsubsetting‚Äù, or ‚Äúfiltering‚Äù. If there is one skill you need to master as quickly as possible, it‚Äôs this.</p>
<p>Subsetting can be accomplished in two ways:</p>
<ul class="simple">
<li><p>By index</p></li>
<li><p>With Boolean (<code class="docutils literal notranslate"><span class="pre">bool</span></code>) vectors</p></li>
</ul>
<section id="what-is-subsetting">
<h2>What is Subsetting?<a class="headerlink" href="#what-is-subsetting" title="Permalink to this headline">#</a></h2>
<p>As you‚Äôve probably already realized, vectors don‚Äôt just contain a jumble of data ‚Äì they also have a concept of ‚Äúorder‚Äù. In particular, vector data is organized along a single dimension (in a line, just as data is organized in a list). So when I create a vector with <code class="docutils literal notranslate"><span class="pre">42,</span> <span class="pre">47,</span> <span class="pre">-1</span></code>, I have in mind that 42 is the first entry, 47 is the second, and -1 is the third. And we can use that concept of order to subset vectors by passing the index (order number) of an entry we want to our vector in square brackets. For example, consider the following vector:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">42</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">a</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([42, 47, -1])
</pre></div>
</div>
</div>
</div>
<p>If I wanted to pull out the second entry in that vector, I could do so with <em>array indexing</em> using square brackets <code class="docutils literal notranslate"><span class="pre">[]</span></code> (remember that indexes start at 0 in Python, so the second entry is at index <code class="docutils literal notranslate"><span class="pre">1</span></code>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>47
</pre></div>
</div>
</div>
</div>
<p>And if I want to assign that second entry to a new variable, I can!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">new</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>47
</pre></div>
</div>
</div>
</div>
<p>But what, exactly, is happening when I subset? Let‚Äôs return to the idea that a variable is just a box holding some data, and walk through the following block of code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">42</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">new</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>And let‚Äôs do so will some illustrative figures, which will work like this:</p>
<p><img alt="notational conventions figure" src="../../_images/notation-conventions.png" /></p>
<p>In the first line of code, we create a new vector with three entries and assign it to the variable <code class="docutils literal notranslate"><span class="pre">a</span></code>. Just as in our previous reading, we can think of the variable <code class="docutils literal notranslate"><span class="pre">a</span></code> as a box that is holding this new vector.</p>
<p><img alt="vector_subsetting1" src="numpy/vectors/img/C2W2-30_subsetting_part1.png" /></p>
<p>In the second line, the first thing that happens is that python evaluates the expression on the right side of the assignment operator: <code class="docutils literal notranslate"><span class="pre">a[1]</span></code>. The use of <code class="docutils literal notranslate"><span class="pre">a</span></code> and square brackets indicates to python that we‚Äôre not trying to access a portion of the data stored in the box labeled <code class="docutils literal notranslate"><span class="pre">a</span></code>. In particular, by putting a <code class="docutils literal notranslate"><span class="pre">1</span></code> between the square brackets, we‚Äôre telling python we want the second item in the box <code class="docutils literal notranslate"><span class="pre">a</span></code>: the value <code class="docutils literal notranslate"><span class="pre">47</span></code>.</p>
<p><img alt="vector_subsetting2" src="numpy/vectors/img/C2W2-30_subsetting_part2.png" /></p>
<p>Then when we assign that value ‚Äì 47 ‚Äì to <code class="docutils literal notranslate"><span class="pre">new</span></code>, we create a new variable, and insert our data into that box:</p>
<p><img alt="vector_subsetting3" src="numpy/vectors/img/C2W2-30_subsetting_part3.png" /></p>
<p>This <code class="docutils literal notranslate"><span class="pre">variable[]</span></code> notation is something we‚Äôll use a <em>lot</em> with numpy, and it will always mean the same thing: we‚Äôre trying to access some data in the data stored in the box <code class="docutils literal notranslate"><span class="pre">variable</span></code>.</p>
<p><strong>Note:</strong> we‚Äôre making one small simplification in the discussion above that, if you‚Äôve worked with numpy a lot, you may notice. Don‚Äôt worry ‚Äì we‚Äôll address that in a later reading!</p>
</section>
<section id="subsetting-by-index">
<h2>Subsetting By Index<a class="headerlink" href="#subsetting-by-index" title="Permalink to this headline">#</a></h2>
<section id="simple-indexing">
<h3>Simple Indexing<a class="headerlink" href="#simple-indexing" title="Permalink to this headline">#</a></h3>
<p>There are several ways one can subset arrays, but the most basic is with <em>simple indexing</em>, which is where you use a single index to access a single entry, or a range (e.g., <code class="docutils literal notranslate"><span class="pre">0:3</span></code> to get the first three elements of an array), just like with lists. So in the example above, we grabbed the second element by passing in the index of the entry we wanted:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">42</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>47
</pre></div>
</div>
</div>
</div>
<p>But if we want more than one entry, we can also subset a range of index values using the <code class="docutils literal notranslate"><span class="pre">:</span></code> operator:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([42, 47])
</pre></div>
</div>
</div>
</div>
<p>A couple of quick reminders on how the <code class="docutils literal notranslate"><span class="pre">:</span></code> operator works:</p>
<ul class="simple">
<li><p>if you want all the entries from the first entry up to a point, you can leave the first entry blank (e.g., <code class="docutils literal notranslate"><span class="pre">a[:2]</span></code>), and</p></li>
<li><p>if you want all the entries from a point up to the end, you can leave the last entry empty (e.g., <code class="docutils literal notranslate"><span class="pre">a[1:]</span></code>).</p></li>
</ul>
</section>
<section id="fancy-indexing">
<h3>Fancy Indexing<a class="headerlink" href="#fancy-indexing" title="Permalink to this headline">#</a></h3>
<p>numpy arrays also support something called <em>fancy indexing</em>, which is where you pass a list (or another array) containing a set of indices you want to get back. With <em>fancy indexing</em>, index values don‚Äôt have to be consecutive or even in order! Here‚Äôs an example with a list:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([42, -1])
</pre></div>
</div>
</div>
</div>
<p>And here‚Äôs one with an array:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">zero_and_two</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="n">zero_and_two</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0, 2])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="n">zero_and_two</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([42, -1])
</pre></div>
</div>
</div>
</div>
<p>Note that with fancy indexing, you don‚Äôt have to subset entries in order: if you pass indices out of order, you‚Äôll get a vector with a new order!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([-1, 42])
</pre></div>
</div>
</div>
</div>
<p>Again, this is all working the same way as our example with just one entry ‚Äì Python interprets the square brackets as a request for some data in the box <code class="docutils literal notranslate"><span class="pre">a</span></code>, and if we pass multiple indices, it just grabs multiple items from that box.</p>
</section>
</section>
<section id="subsetting-with-booleans">
<h2>Subsetting with Booleans<a class="headerlink" href="#subsetting-with-booleans" title="Permalink to this headline">#</a></h2>
<p>Subsetting with Booleans is a little hard to explain, so instead let‚Äôs jump right into an example.</p>
<p>Suppose we have a character vector with only two elements (‚Äúdogs‚Äù and ‚Äúcats‚Äù). Subsetting it to ‚Äúdogs‚Äù could be done by passing a Boolean vector as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fruits</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s2">&quot;dogs&quot;</span><span class="p">,</span> <span class="s2">&quot;cats&quot;</span><span class="p">])</span>
<span class="n">fruits</span><span class="p">[[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;dogs&#39;], dtype=&#39;&lt;U4&#39;)
</pre></div>
</div>
</div>
</div>
<p>Within these brackets is a vector with the same number of Boolean elements as there are elements in the vector you want to subset. Elements across the two vectors are matched by order: elements that match with <code class="docutils literal notranslate"><span class="pre">True</span></code> are kept while elements that match with <code class="docutils literal notranslate"><span class="pre">False</span></code> are dropped.</p>
<p>Visualized with the same tools we used before, we can draw out what‚Äôs happening in this block of code:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">42</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">my_subset</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">my_subset</span><span class="p">]</span>
<span class="n">b</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([42, -1])
</pre></div>
</div>
</div>
</div>
<p>First, we create <code class="docutils literal notranslate"><span class="pre">a</span></code>:</p>
<p><img alt="subsetting with Booleans 1" src="numpy/vectors/img/C2W2-30_booleans_part1.png" /></p>
<p>Then we create <code class="docutils literal notranslate"><span class="pre">my_subset</span></code>:</p>
<p><img alt="subsetting with Booleans 2" src="numpy/vectors/img/C2W2-30_booleans_part2.png" /></p>
<p>Then the magic: Python lines up the entries in the data in the box labeled <code class="docutils literal notranslate"><span class="pre">a</span></code> and the data in the box labeled <code class="docutils literal notranslate"><span class="pre">my_subset</span></code>, and keeps any entries from <code class="docutils literal notranslate"><span class="pre">a</span></code> that line up with values of <code class="docutils literal notranslate"><span class="pre">my_subset</span></code> that are <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>Then it assigns the values in <code class="docutils literal notranslate"><span class="pre">a</span></code> that line up with <code class="docutils literal notranslate"><span class="pre">True</span></code>s in <code class="docutils literal notranslate"><span class="pre">my_subset</span></code> to a new variable <code class="docutils literal notranslate"><span class="pre">b</span></code>:</p>
<p><img alt="subsetting with Booleans 3" src="numpy/vectors/img/C2W2-30_booleans_part3.png" /></p>
<p><strong>Note:</strong> as with our previous illustrations, we are making one small simplification which, if you‚Äôve worked with numpy a lot before, you may notice. Don‚Äôt worry‚Äîwe‚Äôll address that in a later reading!</p>
</section>
<section id="subsetting-with-logical-operations">
<h2>Subsetting With Logical Operations<a class="headerlink" href="#subsetting-with-logical-operations" title="Permalink to this headline">#</a></h2>
<p>This process is extremely useful when combined with a <em>logical operation</em> to combine multiple conditions. For example, we can use the logical ‚Äúequals‚Äù (written <code class="docutils literal notranslate"><span class="pre">==</span></code>) to say ‚Äúbe true if values are equal‚Äù, and the logical ‚Äúnot equals (written <code class="docutils literal notranslate"><span class="pre">!=</span></code>) to say ‚Äúbe true if values are not equal‚Äù.</p>
<p><strong>WARNING:</strong> When working with numpy arrays, we can‚Äôt use the logical operations <code class="docutils literal notranslate"><span class="pre">or</span></code>, <code class="docutils literal notranslate"><span class="pre">and</span></code>, and <code class="docutils literal notranslate"><span class="pre">not</span></code> we use in vanilla Python. Instead, when working True and False with numpy vectors, we have to use <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> for ‚Äúand‚Äù, <code class="docutils literal notranslate"><span class="pre">|</span></code> for ‚Äúor‚Äù, and <code class="docutils literal notranslate"><span class="pre">~</span></code> for ‚Äúnot‚Äù.</p>
<p>To illustrate, let‚Äôs see how a logical operation can be used to filter a large vector of numbers:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a numeric vector</span>
<span class="c1"># Reminder: if you pass a third argument to `np.arange()`,</span>
<span class="c1"># numpy uses that to determine the step sizes between values!</span>

<span class="n">numbers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">numbers</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 10,  20,  30,  40,  50,  60,  70,  80,  90, 100])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get small numbers:</span>
<span class="n">numbers</span><span class="p">[</span><span class="n">numbers</span> <span class="o">&lt;=</span> <span class="mi">50</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([10, 20, 30, 40, 50])
</pre></div>
</div>
</div>
</div>
<p>And we can also combine logical conditions. When we do so, however, note that we have to wrap each test in <code class="docutils literal notranslate"><span class="pre">()</span></code> so numpy parses them correctly. For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span><span class="p">[(</span><span class="n">numbers</span> <span class="o">&lt;</span> <span class="mi">30</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">numbers</span> <span class="o">==</span> <span class="mi">100</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 10,  20, 100])
</pre></div>
</div>
</div>
</div>
<p>If you don‚Äôt wrap your two tests in parenthesis, you‚Äôll run into trouble and get this error:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span><span class="p">[</span><span class="n">numbers</span> <span class="o">&lt;</span> <span class="mi">30</span> <span class="o">|</span> <span class="n">numbers</span> <span class="o">==</span> <span class="mi">100</span><span class="p">]</span>

<span class="o">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span>                                <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">folders</span><span class="o">/</span><span class="n">tj</span><span class="o">/</span><span class="n">s8f2_ks15h315z5thvtnhz8r0000gp</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">ipykernel_13964</span><span class="o">/</span><span class="mf">3746007904.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="o">----&gt;</span> <span class="mi">1</span> <span class="n">numbers</span><span class="p">[</span><span class="n">numbers</span> <span class="o">&lt;</span> <span class="mi">30</span> <span class="o">|</span> <span class="n">numbers</span> <span class="o">==</span> <span class="mi">100</span><span class="p">]</span>

<span class="ne">ValueError</span><span class="p">:</span> <span class="n">The</span> <span class="n">truth</span> <span class="n">value</span> <span class="n">of</span> <span class="n">an</span> <span class="n">array</span> <span class="k">with</span> <span class="n">more</span> <span class="n">than</span> <span class="n">one</span> <span class="n">element</span> <span class="ow">is</span> <span class="n">ambiguous</span><span class="o">.</span> <span class="n">Use</span> <span class="n">a</span><span class="o">.</span><span class="n">any</span><span class="p">()</span> <span class="ow">or</span> <span class="n">a</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>
</div>
<p>(Why? Well‚Ä¶ that gets <em>really</em> complicated fast, but basically, numpy parses the <code class="docutils literal notranslate"><span class="pre">|</span></code> before anything else, and while we use <code class="docutils literal notranslate"><span class="pre">|</span></code> as the logical ‚Äúor‚Äù, when you use it when neither array is of type <code class="docutils literal notranslate"><span class="pre">bool</span></code>, it actually does some weird bit-level manipulations, generating a new array of numbers instead of an array of Booleans. So‚Ä¶ just use the parentheses. ü§∑‚Äç‚ôÇÔ∏è)</p>
<p>Note that there‚Äôs nothing magic about putting these Booleans inside square brackets ‚Äì Python is just evaluating the code inside the square brackets, returning an array of type <code class="docutils literal notranslate"><span class="pre">bool</span></code>, and then using that to subset the original array. Indeed, we can move the construction of these <code class="docutils literal notranslate"><span class="pre">bool</span></code> arrays outside of the square brackets if we want:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get only the middle set of numbers</span>

<span class="n">middle_number</span> <span class="o">=</span> <span class="p">(</span><span class="mi">30</span> <span class="o">&lt;</span> <span class="n">numbers</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">numbers</span> <span class="o">&lt;</span> <span class="mi">80</span><span class="p">)</span>
<span class="n">middle_number</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([False, False, False,  True,  True,  True,  True, False, False,
       False])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span><span class="p">[</span><span class="n">middle_number</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([40, 50, 60, 70])
</pre></div>
</div>
</div>
</div>
</section>
<section id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p>Create a new vector with all the primes between 0 and 20: <code class="docutils literal notranslate"><span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">5,</span> <span class="pre">7,</span> <span class="pre">11,</span> <span class="pre">13,</span> <span class="pre">17,</span> <span class="pre">19</span></code></p></li>
<li><p>Using the <code class="docutils literal notranslate"><span class="pre">:</span></code> operator, subset all the entries from your vector greater than 10.</p></li>
<li><p>Using a logical test (e.g. <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>), subset all the entries from your vector greater than 10.</p></li>
<li><p>Using a logical test, subset all the <em>even</em> prime numbers from your list (recall that the <code class="docutils literal notranslate"><span class="pre">%</span></code> operator returns the remainder left over after integer division ‚Äì for example, <code class="docutils literal notranslate"><span class="pre">7</span> <span class="pre">%</span> <span class="pre">3</span></code> returns 1, since 3 goes into 7 two times with 1 left over).</p></li>
<li><p>Now, using logical tests, subset all the entries that are <em>either</em> even <em>or</em> greater than 10.</p></li>
</ol>
</section>
<div class="toctree-wrapper compound">
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./numpy/vectors"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="24_vector_recap.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Vector Recap</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="35_modifying_subsets_of_vectors.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Modifying Subsets of Vectors</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Nick and Kyle<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>